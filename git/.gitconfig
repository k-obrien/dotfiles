[include]
    path = ~/.gitconfig.local

[user]
    name = Kieran O'Brien

[core]
    autocrlf = input
    excludesfile = ~/.gitignore_global
    editor = codium --wait
    pager = delta

[url "ssh://git@github.com/"]
    insteadOf = https://github.com/

[init]
    defaultBranch = main

[fetch]
	prune = true

[commit]
    gpgsign = true

[gpg]
    program = gpg

[diff]
    colorMoved = default
    tool = studio
[difftool]
    prompt = false
[difftool "studio"]
    cmd = studio diff "$LOCAL" "$REMOTE"
[delta]
    navigate = true
    side-by-side = true
    hyperlinks = true
    map-styles = bold purple => syntax magenta, bold cyan => syntax blue

[merge]
    conflictstyle = diff3
    tool = studio
[mergetool]
    prompt = false
[mergetool "studio"]
    cmd = studio merge "$LOCAL" "$REMOTE" "$BASE" "$MERGED"
    trustExitCode = true

[alias]
    br = branch
	co = checkout
    ci = commit -m
    ac = commit --amend -m
    acq = commit --amend --no-edit
    st = status -s
    last = log -1 HEAD
	ls = log --pretty=format:'%Cred%h%Creset - %s - %Cblue%an%Creset (%Cgreen%ch%Creset)'
    ll = ls --numstat
    sl = stash list
    sp = stash pop
    ss = stash show -p
    unstage = restore --staged
    untrack = rm --cached
    branches = for-each-ref --sort=committerdate refs/heads/ --format='%(HEAD) %(color:yellow)%(refname:short)%(color:reset) - %(color:red)%(objectname:short)%(color:reset) - %(contents:subject) - %(authorname) (%(color:green)%(committerdate:human)%(color:reset))'
    orphans = fetch --prune && for-each-ref refs/heads --format '%(if:equals=gone)%(upstream:track,nobracket)%(then)%(refname:short)%(else)%(end)' | awk '$1{print $1}'
    cull = "!f() { for branch in $(git orphans | awk 'NR>1'); do git branch -D $branch; done }; f"
